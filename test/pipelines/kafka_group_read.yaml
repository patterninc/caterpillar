tasks:
  - name: kafka_group_read
    type: kafka
    bootstrap_server: '{{ secret "/kafka/server" }}:9094'
    topic: test-caterpillar-topic
    group_id: test-caterpillar-group-test
    user_auth_type: scram
    username: test-caterpillar
    password: {{ secret "/kafka/test-caterpillar/secret" }}
    server_auth_type: tls
    exit_on_empty: true
    retry_limit: 1
    cert: |
      {{ indent 6 (secret "/kafka/ca-cert") }}
    task_concurrency: 3

  - name: echo_results
    type: echo
    only_data: true
